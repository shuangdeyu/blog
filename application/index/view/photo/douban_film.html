<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>douban_film 实验站</title>
    <link rel="Bookmark" href="__IMG__/favicon.ico">
    <link rel="Shortcut Icon" href="__IMG__/favicon.ico"/>

    <!-- Bootstrap -->
    <link href="__STATIC__/Gentelella/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="__STATIC__/Gentelella/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="__STATIC__/Gentelella/vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- Custom Theme Style -->
    <!--<link href="__STATIC__/Gentelella/build/css/custom.min.css" rel="stylesheet">-->
    <!-- PNotify -->
    <link href="__STATIC__/Gentelella/vendors/pnotify/dist/pnotify.css" rel="stylesheet">
    <link href="__STATIC__/Gentelella/vendors/pnotify/dist/pnotify.buttons.css" rel="stylesheet">
    <link href="__STATIC__/Gentelella/vendors/pnotify/dist/pnotify.nonblock.css" rel="stylesheet">

    <style>
        body {
            background-image: url("__IMG__/back.png");
        }

        @-webkit-keyframes shake {
            0% {
                opacity: 0.8;
            }
            50% {
                opacity: 0.4;
            }
            100% {
                opacity: 0.8;
            }
        }
        @keyframes shake {
            0% {
                opacity: 0.8;
            }
            50% {
                opacity: 0.4;
            }
            100% {
                opacity: 0.8;
            }
        }
        .shake {
            margin-left: 15px;
            color: #4ba946;
            -webkit-animation: shake 1.5s infinite;
            animation: shake 1.5s infinite;
        }

        .film_container {
            height: auto;
            margin: 15px 5px;
            padding: 15px 10px;
            background-color: #ffffff;
            border: 1px solid #E3E3E3;
            border-radius: 5px;
            box-shadow: 0 6px 15px 0 rgba(0, 0, 0, 0.1);
        }
        .statement {
            border-bottom: 1px solid #E3E3E3;
            padding-bottom: 10px;
            color: #8d8c91;
            height: 30px;
        }
        .tags { margin-top: 10px; }
        .tags .label { margin-bottom: 5px;display:inline-block;font-weight: normal;padding: .5em 1.2em;letter-spacing: 5px; }

        .film-list {
            clear: both;
            margin-top: 15px;
            width: 100%;
            overflow: hidden;
        }
        .film-card {
            border: 1px solid rgba(0, 0, 0, 0.2);
            box-shadow: 0 3px 9px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            height: 205px;
            width: 115px;
            margin-right: 16px;
            margin-bottom: 13px;
            float: left;
            text-align: center;
            cursor: pointer;
        }
        .film-card:hover {
            box-shadow: 0 3px 9px rgba(0,0,0,.5);
        }
        .film-card .film-img { width: 100%;height: 161px;overflow: hidden;text-align: center;vertical-align: middle; }
        .film-card .film-img img { width: 115px;height: 161px; }
        .film-card .film-info { font-size: 12px;padding: 5px; }
        .red { color: #ef342a; }
        .f-val { display: none; }
    </style>
</head>
<body>

<div class="douban_container">
    <div class="col-md-8 col-sm-8 col-xs-12 col-md-offset-2 col-sm-offset-2">

        <div class="film_container">
            <div class="statement">
                <div class="pull-left">
                    <strong id="SelectTag" style="font-size: 18px;color: #0b1013;">{$tag}</strong>
                </div>
                <div class="pull-right">
                    <span>项目地址: </span>
                    <a href="https://github.com/shuangdeyu/goquery_douban.git">https://github.com/shuangdeyu/goquery_douban.git</a>
                    <span class="shake">仅供学习</span>
                </div>
            </div>

            <div class="tags">
                <a class="label" style="background-color: #69686d" href="{:url('photo/douban_film').'?order='.$order}">全部</a>
                {volist name="tags" id="vo"}
                <a class="label" style="background-color: {$vo.color}" href="{:url('photo/douban_film').'?order='.$order.'&tag='.$vo.name}">{$vo.name}</a>
                {/volist}
            </div>

            <div class="film-list">
                {volist name="list" id="vo"}
                <div class="film-card" onclick="detail(this)">
                    <span class="f-val f-name">{$vo.name}</span>
                    <span class="f-val f-tags">{$vo.tags}</span>
                    <span class="f-val f-img">{$vo.img}</span>
                    <span class="f-val f-year">{$vo.year}</span>
                    <span class="f-val f-rating_num">{$vo.rating_num}</span>
                    <span class="f-val f-rating_people">{$vo.rating_people}</span>
                    <span class="f-val f-bigstar">{$vo.bigstar}</span>
                    <span class="f-val f-stars_five">{$vo.stars_five}</span>
                    <span class="f-val f-stars_four">{$vo.stars_four}</span>
                    <span class="f-val f-stars_three">{$vo.stars_three}</span>
                    <span class="f-val f-stars_two">{$vo.stars_two}</span>
                    <span class="f-val f-stars_one">{$vo.stars_one}</span>
                    <span class="f-val f-summary">{$vo.summary}</span>
                    <span class="f-val f-director">{$vo.director}</span>
                    <span class="f-val f-actor">{$vo.actor}</span>
                    <span class="f-val f-country">{$vo.country}</span>
                    <span class="f-val f-release_date">{$vo.release_date}</span>
                    <span class="f-val f-film_length">{$vo.film_length}</span>
                    <div class="film-img">
                        <img src="{$vo.img}" >
                    </div>
                    <div class="film-info">
                        <span>{$vo.name}</span>&nbsp;
                        <span class="red"><b>{$vo.rating_num}</b></span>
                    </div>
                </div>
                {/volist}
            </div>
            <div style="text-align: center;">
                {$list->render()}
            </div>
        </div>

        <button type="button" id="clickDetail" data-toggle="modal" data-target="#filmDetail" style="display: none;">detail</button>
        <div class="modal fade" id="filmDetail" tabindex="-1" role="dialog" aria-hidden="false">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">

                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
                        </button>
                        <h3 class="modal-title">Modal title</h3>
                    </div>
                    <div class="modal-body">

                    </div>

                </div>
            </div>
        </div>

    </div>
</div>

<!-- jQuery -->
<script src="__STATIC__/Gentelella/vendors/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="__STATIC__/Gentelella/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- FastClick -->
<script src="__STATIC__/Gentelella/vendors/fastclick/lib/fastclick.js"></script>
<!-- NProgress -->
<script src="__STATIC__/Gentelella/vendors/nprogress/nprogress.js"></script>
<!-- Custom Theme Scripts -->
<script src="__STATIC__/Gentelella/build/js/custom.min.js"></script>
<!-- PNotify -->
<script src="__STATIC__/Gentelella/vendors/pnotify/dist/pnotify.js"></script>
<script src="__STATIC__/Gentelella/vendors/pnotify/dist/pnotify.buttons.js"></script>
<script src="__STATIC__/Gentelella/vendors/pnotify/dist/pnotify.nonblock.js"></script>

<script>
    function detail(obj) {
        var name = $(obj).find(".f-name").text();
        var tags = $(obj).find(".f-tags").text();
        var img = $(obj).find(".f-img").text();
        var year = $(obj).find(".f-year").text();
        var rating_num = $(obj).find(".f-rating_num").text();
        var rating_people = $(obj).find(".f-rating_people").text();
        var bigstar = $(obj).find(".f-bigstar").text();
        var stars_five = $(obj).find(".f-stars_five").text();
        var stars_four = $(obj).find(".f-stars_four").text();
        var stars_three = $(obj).find(".f-stars_three").text();
        var stars_two = $(obj).find(".f-stars_two").text();
        var stars_one = $(obj).find(".f-stars_one").text();
        var summary = $(obj).find(".f-summary").text();
        var director = $(obj).find(".f-director").text();
        var actor = $(obj).find(".f-actor").text();
        var country = $(obj).find(".f-country").text();
        var release_date = $(obj).find(".f-release_date").text();
        var film_length = $(obj).find(".f-film_length").text();

        var modal_title = $(".modal-title");
        var modal_body = $(".modal-body");
        modal_title.empty();
        modal_body.empty();
        modal_title.text(name+year);

        // 拼接详情代码


        $("#clickDetail").click();
    }
</script>
</body>
</html>